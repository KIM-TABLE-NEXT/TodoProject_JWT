# ì¼ì • ê´€ë¦¬ ì•± ì„œë²„ ë§Œë“¤ê¸°(JWT)
## ìš”êµ¬ ì‚¬í•­
### ê¸°ì¡´ì˜ í•„ìˆ˜ ìš”êµ¬ì‚¬í•­
>https://velog.io/@kim_table_next/Project-Spring-Todo

### ì¶”ê°€ëœ í•„ìˆ˜ ìš”êµ¬ì‚¬í•­
>- íšŒì›ê°€ì…
>   - username, passwordë¥¼ Clientì—ì„œ ì „ë‹¬ë°›ê¸°
>   - usernameì€  `ìµœì†Œ 4ì ì´ìƒ, 10ì ì´í•˜ì´ë©° ì•ŒíŒŒë²³ ì†Œë¬¸ì(a~z), ìˆ«ì(0~9)`ë¡œ êµ¬ì„±ë˜ì–´ì•¼ í•œë‹¤.
>   - passwordëŠ”  `ìµœì†Œ 8ì ì´ìƒ, 15ì ì´í•˜ì´ë©° ì•ŒíŒŒë²³ ëŒ€ì†Œë¬¸ì(a~z, A~Z), ìˆ«ì(0~9)`ë¡œ êµ¬ì„±ë˜ì–´ì•¼ í•œë‹¤.
>   - DBì— ì¤‘ë³µëœ usernameì´ ì—†ë‹¤ë©´ íšŒì›ì„ ì €ì¥í•˜ê³  Client ë¡œ ì„±ê³µí–ˆë‹¤ëŠ” ë©”ì‹œì§€, ìƒíƒœì½”ë“œ ë°˜í™˜í•˜ê¸°<br><br>
>- ë¡œê·¸ì¸(JWT)
>  - username, passwordë¥¼ Clientì—ì„œ ì „ë‹¬ë°›ê¸°
>  - DBì—ì„œ usernameì„ ì‚¬ìš©í•˜ì—¬ ì €ì¥ëœ íšŒì›ì˜ ìœ ë¬´ë¥¼ í™•ì¸í•˜ê³  ìˆë‹¤ë©´ password ë¹„êµí•˜ê¸°
>  - ë¡œê·¸ì¸ ì„±ê³µ ì‹œ, ë¡œê·¸ì¸ì— ì„±ê³µí•œ ìœ ì €ì˜ ì •ë³´ì™€ `JWT`ë¥¼ í™œìš©í•˜ì—¬ í† í°ì„ ë°œê¸‰í•˜ê³ , 
>ë°œê¸‰í•œ í† í°ì„ Headerì— ì¶”ê°€í•˜ê³  ì„±ê³µí–ˆë‹¤ëŠ” ë©”ì‹œì§€, ìƒíƒœì½”ë“œ ì™€ í•¨ê»˜ Clientì— ë°˜í™˜í•˜ê¸°<br><br>
>- í• ì¼ì¹´ë“œ ì‘ì„± ê¸°ëŠ¥
>  - í† í°ì„ ê²€ì‚¬í•˜ì—¬, ìœ íš¨í•œ í† í°ì¼ ê²½ìš°ì—ë§Œ í• ì¼ ì‘ì„± ê°€ëŠ¥
>  - `í• ì¼ ì œëª©`,`í• ì¼ ë‚´ìš©`, `ì‘ì„±ì¼`ì„ ì €ì¥í•  ìˆ˜ ìˆë‹¤.
>  - í• ì¼ ì œëª©, í• ì¼ ë‚´ìš©ì„ ì €ì¥í•˜ê³ 
>  - ì €ì¥ëœ í• ì¼ì„ Client ë¡œ ë°˜í™˜í•˜ê¸°(usernameì€ ë¡œê·¸ì¸ ëœ ì‚¬ìš©ì)<br><br>
>- ì„ íƒí•œ ê²Œì‹œê¸€ í• ì¼ì¹´ë“œ  ì¡°íšŒ ê¸°ëŠ¥ API
>  - ì„ íƒí•œ í• ì¼ ì˜ ì •ë³´ë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤.
>   - ë°˜í™˜ ë°›ì€ í• ì¼ ì •ë³´ì—ëŠ” `í• ì¼ ì œëª©`,`í• ì¼ ë‚´ìš©`, `ì‘ì„±ì` , `ì‘ì„±ì¼`ì •ë³´ê°€ ë“¤ì–´ìˆë‹¤.<br><br>
>- í• ì¼ì¹´ë“œ ëª©ë¡ ì¡°íšŒ ê¸°ëŠ¥ API
>  - ë“±ë¡ëœ í• ì¼ ì „ì²´ë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤.
>    - íšŒì›ë³„ë¡œ ê°ê° ë‚˜ëˆ„ì–´ì„œ í• ì¼ ëª©ë¡ì´ ì¡°íšŒëœë‹¤.
>    - ë°˜í™˜ ë°›ì€ í• ì¼ ì •ë³´ì—ëŠ” `í• ì¼ ì œëª©`, `ì‘ì„±ì` , `ì‘ì„±ì¼`, `ì™„ë£Œ ì—¬ë¶€`ì •ë³´ê°€ ë“¤ì–´ìˆë‹¤.
>  - ì¡°íšŒëœ í• ì¼ ëª©ë¡ì€ `ì‘ì„±ì¼` ê¸°ì¤€ ë‚´ë¦¼ì°¨ìˆœìœ¼ë¡œ ì •ë ¬ ë˜ì–´ìˆë‹¤.<br><br>
>- ì„ íƒí•œ ê²Œì‹œê¸€ í• ì¼ì¹´ë“œ ìˆ˜ì • ê¸°ëŠ¥ API
>  - ì„ íƒí•œ  í• ì¼ì¹´ë“œì˜ `ì œëª©`, `ì‘ì„± ë‚´ìš©`ì„ ìˆ˜ì •í•  ìˆ˜ ìˆë‹¤.
>    - í† í°ì„ ê²€ì‚¬í•œ í›„, ìœ íš¨í•œ í† í°ì´ë©´ì„œ í•´ë‹¹ ì‚¬ìš©ìê°€ ì‘ì„±í•œ ê²Œì‹œê¸€ë§Œ ìˆ˜ì • ê°€ëŠ¥
>    - í• ì¼ ì œëª©, í• ì¼ ë‚´ìš©ì„ ìˆ˜ì •í•˜ê³  ìˆ˜ì •ëœ í• ì¼ ì •ë³´ëŠ” Client ë¡œ ë°˜í™˜ëœë‹¤.
>  - ìˆ˜ì •ëœ í• ì¼ì˜ ì •ë³´ë¥¼ ë°˜í™˜ ë°›ì•„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
>    - ë°˜í™˜ ë°›ì€ í• ì¼ ì •ë³´ì—ëŠ” `í• ì¼ ì œëª©`,`í• ì¼ ë‚´ìš©`, `ì‘ì„±ì` , `ì‘ì„±ì¼`ì •ë³´ê°€ ë“¤ì–´ìˆë‹¤.<br><br>
>- **ğŸ†•Â í• ì¼ì¹´ë“œ ì™„ë£Œ ê¸°ëŠ¥ API**
>    - í† í°ì„ ê²€ì‚¬í•œ í›„, ìœ íš¨í•œ í† í°ì´ë©´ì„œ í•´ë‹¹ ì‚¬ìš©ìê°€ ì‘ì„±í•œ í• ì¼ì¹´ë“œ ë§Œ ì™„ë£Œ ê°€ëŠ¥
>    - ì™„ë£Œì²˜ë¦¬ í•œ í• ì¼ì¹´ë“œëŠ” ëª©ë¡ì¡°íšŒì‹œ `ì™„ë£Œ ì—¬ë¶€`í•„ë“œê°€ TRUE ë¡œ ë‚´ë ¤ê°„ë‹¤.
>    - `ì™„ë£Œ ì—¬ë¶€` ê¸°ë³¸ê°’ì€ FALSE<br><br>
>- **ğŸ†•Â ëŒ“ê¸€ ì‘ì„± API**
>    - í† í°ì„ ê²€ì‚¬í•˜ì—¬, ìœ íš¨í•œ í† í°ì¼ ê²½ìš°ì—ë§Œ ëŒ“ê¸€ ì‘ì„± ê°€ëŠ¥
>    - ì„ íƒí•œ í• ì¼ì˜ DB ì €ì¥ ìœ ë¬´ë¥¼ í™•ì¸í•˜ê¸°
>    - ì„ íƒí•œ í• ì¼ì´ ìˆë‹¤ë©´ ëŒ“ê¸€ì„ ë“±ë¡í•˜ê³  ë“±ë¡ëœ ëŒ“ê¸€ ë°˜í™˜í•˜ê¸°<br><br>
>- **ğŸ†•Â ëŒ“ê¸€ ìˆ˜ì • API**
>    - í† í°ì„ ê²€ì‚¬í•œ í›„, ìœ íš¨í•œ í† í°ì´ë©´ì„œ í•´ë‹¹ ì‚¬ìš©ìê°€ ì‘ì„±í•œ ëŒ“ê¸€ë§Œ ìˆ˜ì • ê°€ëŠ¥
>    - ì„ íƒí•œ ëŒ“ê¸€ì˜ DB ì €ì¥ ìœ ë¬´ë¥¼ í™•ì¸í•˜ê¸°
>    - ì„ íƒí•œ ëŒ“ê¸€ì´ ìˆë‹¤ë©´ ëŒ“ê¸€ ìˆ˜ì •í•˜ê³  ìˆ˜ì •ëœ ëŒ“ê¸€ ë°˜í™˜í•˜ê¸°<br><br>
>- **ğŸ†•Â ëŒ“ê¸€ ì‚­ì œ API**
>    - í† í°ì„ ê²€ì‚¬í•œ í›„, ìœ íš¨í•œ í† í°ì´ë©´ì„œ í•´ë‹¹ ì‚¬ìš©ìê°€ ì‘ì„±í•œ ëŒ“ê¸€ë§Œ ì‚­ì œ ê°€ëŠ¥
>    - ì„ íƒí•œ ëŒ“ê¸€ì˜ DB ì €ì¥ ìœ ë¬´ë¥¼ í™•ì¸í•˜ê¸°
>    - ì„ íƒí•œ ëŒ“ê¸€ì´ ìˆë‹¤ë©´ ëŒ“ê¸€ ì‚­ì œí•˜ê³  Client ë¡œ ì„±ê³µí–ˆë‹¤ëŠ” ë©”ì‹œì§€, ìƒíƒœì½”ë“œ ë°˜í™˜í•˜ê¸°<br><br>
>- **ğŸ†•Â ì˜ˆì™¸ ì²˜ë¦¬ (ResponseEntity ì‚¬ìš©)**       
>    - í† í°ì´ í•„ìš”í•œ API ìš”ì²­ì—ì„œ í† í°ì„ ì „ë‹¬í•˜ì§€ ì•Šì•˜ê±°ë‚˜ ì •ìƒ í† í°ì´ ì•„ë‹ ë•ŒëŠ” "í† í°ì´ ìœ íš¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤." ë¼ëŠ” ì—ëŸ¬ë©”ì‹œì§€ì™€ statusCode: 400ì„ Clientì— ë°˜í™˜í•˜ê¸°
>    - í† í°ì´ ìˆê³ , ìœ íš¨í•œ í† í°ì´ì§€ë§Œ í•´ë‹¹ ì‚¬ìš©ìê°€ ì‘ì„±í•œ ê²Œì‹œê¸€/ëŒ“ê¸€ì´ ì•„ë‹Œ ê²½ìš°ì—ëŠ” â€œì‘ì„±ìë§Œ ì‚­ì œ/ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.â€ë¼ëŠ” ì—ëŸ¬ë©”ì‹œì§€ì™€ statusCode: 400ì„ Clientì— ë°˜í™˜í•˜ê¸°
>    - DBì— ì´ë¯¸ ì¡´ì¬í•˜ëŠ” usernameìœ¼ë¡œ íšŒì›ê°€ì…ì„ ìš”ì²­í•œ ê²½ìš° "ì¤‘ë³µëœ username ì…ë‹ˆë‹¤." ë¼ëŠ” ì—ëŸ¬ë©”ì‹œì§€ì™€ statusCode: 400ì„ Clientì— ë°˜í™˜í•˜ê¸°
>    - ë¡œê·¸ì¸ ì‹œ, ì „ë‹¬ëœ usernameê³¼ password ì¤‘ ë§ì§€ ì•ŠëŠ” ì •ë³´ê°€ ìˆë‹¤ë©´ "íšŒì›ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."ë¼ëŠ” ì—ëŸ¬ë©”ì‹œì§€ì™€ statusCode: 400ì„ Clientì— ë°˜í™˜í•˜ê¸°
   
### ì„ íƒ ìš”êµ¬ì‚¬í•­
>- ì „ì²´ í• ì¼ì¹´ë“œ ëª©ë¡ì—ì„œ ì™„ë£Œëœ ì¹´ë“œë“¤ì€ ìˆ¨ê¹€ì²˜ë¦¬ í•˜ëŠ” ê¸°ëŠ¥ ì¶”ê°€
>- í• ì¼ì¹´ë“œë¥¼ ì‘ì„±ìë§Œ ë³¼ ìˆ˜ ìˆë„ë¡ ë¹„ê³µê°œ í•˜ëŠ” ê¸°ëŠ¥ ì¶”ê°€
>- í• ì¼ì¹´ë“œ ì œëª©ìœ¼ë¡œ ê²€ìƒ‰í•˜ì—¬ ëª©ë¡ì„ ì¶œë ¥í•˜ëŠ” ê¸°ëŠ¥ ì¶”ê°€
>- í”„ë¡œì íŠ¸ì— swagger ì ìš©

## ERD (Entity Relationship Diagram)
>![](https://velog.velcdn.com/images/kim_table_next/post/5082c78d-df53-4b42-994f-2af72e50f3bf/image.png)

## API
| ê¸°ëŠ¥            | Method   | URL                        | Request Header | Request Param |  Request Body                                        | ResponseBody                                                                                                                                              | ResponseHeader |
|:-------------:|:--------:|:--------------------------:|:--------------:|:-------------:|:----------------------------------------------------:|:---------------------------------------------------------------------------------------------------------------------------------------------------------:|:--------------:|
| íšŒì›ê°€ì…          | `POST`   | /api/user/signup           | -              | -             | {<br> "username" : "username", "password" : "password" <br>} | {<br> "username" : "username",<br> "password" : "password" <br>}                                                                                                      | -              |
| ë¡œê·¸ì¸           | `POST`   | /api/user/signin           | -              | -             | { <br>"username" : "username", "password" : "password" <br>} | { <br>"statuscode" : statuscode",<br> "message" : "statusmessage" <br>}                                                                                               | Authorization  |
| í• ì¼ ì‘ì„±          | `POST`   | /api/todo                  | Authorization  | -             | { <br>"title" : "title", "contents" : "contents"<br> }       | {<br> "id" : "id",<br> "title" : "title",<br> "content" : "content",<br> "username" : "username",<br> "dateCreated" : "datecreated",<br> "iscompleted" : "iscompleted" <br>}          | -              |
| í• ì¼ ì¡°íšŒ(ID)     | `GET`    | /api/todo/param            | Authorization  | 'id'=id       | -                                                    | {<br> "id" : "id", <br>"title" : "title",<br> "content" : "content",<br> "username" : "username",<br> "dateCreated" : "datecreated",<br> "iscompleted" : "iscompleted"<br> }          | -              |
| í• ì¼ ëª©ë¡ ì¡°íšŒ(ëª¨ë‘)  | `GET`    | /api/todo/all              | Authorization  | -             | -                                                    | {<br> "id" : "id",<br> "title" : "title",<br> "content" : "content",<br> "username" : "username",<br> "dateCreated" : "datecreated",<br> "iscompleted" : "iscompleted"<br> }  , {...} | -              |
| í• ì¼ ëª©ë¡ ì¡°íšŒ(ì œëª©)  | `GET`    | /api/todo/search/param     | Authorization  | 'title'=title | -                                                    | { <br>"id" : "id",<br> "title" : "title", <br>"content" : "content",<br> "username" : "username",<br> "dateCreated" : "datecreated",<br> "iscompleted" : "iscompleted" <br>}  , {...} | -              |
| ë¯¸ì™„ë£Œ í• ì¼ ì¡°íšŒ     | `GET`    | /api/todo/uncompleted      | Authorization  | -             | -                                                    | {<br> "id" : "id",<br> "title" : "title",<br> "content" : "content",<br> "username" : "username",<br> "dateCreated" : "datecreated",<br> "iscompleted" : "iscompleted"<br> }  , {...} | -              |
| í• ì¼ ìˆ˜ì •(ì œëª©, ë‚´ìš©) | `PUT`    | /api/todo/param            | Authorization  | 'id'=id       | {<br> "title" : "title",<br> "contents" : "contents"<br> }       | {<br> "id" : "id",<br> "title" : "title",<br> "content" : "content", <br>"username" : "username",<br> "dateCreated" : "datecreated",<br> "iscompleted" : "iscompleted"<br> }          | -              |
| í• ì¼ ìˆ˜ì •(ì™„ë£Œì—¬ë¶€)   | `PUT`    | /api/todo/completion/param | Authorization  | 'id'=id       | -                                                    | " "iscompleted" ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤. "                                                                                                                              | -              |
| í• ì¼ ìˆ˜ì •(ê³µê°œì—¬ë¶€)   | `PUT`    | /api/todo/disclosure/param | Authorization  | 'id'=id       | -                                                    | " "isprivate" ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤. "                                                                                                                                | -              |
| ëŒ“ê¸€ ì‘ì„±         | `POST`   | /api/comment/param         | Authorization  | 'id'=id       | { "comment" : "comment" }                            | { "todoId" : "todoId", "id" : "id", "username" : "username", "comment" : "comment" }                                                                      | -              |
| ëŒ“ê¸€ ìˆ˜ì •         | `PUT`    | /api/comment/param         | Authorization  | 'id'=id       | {<br> "comment" : "comment"<br> }                            | { <br>"todoId" : "todoId", <br>"id" : "id",<br> "username" : "username", <br>"comment" : "comment" <br>}                                                                      | -              |
| ëŒ“ê¸€ ì¡°íšŒ         | `GET`    | /api/comment/param         | Authorization  | 'id'=id       | -                                                    | { <br>"todoId" : "todoId",<br> "id" : "id",<br> "username" : "username",<br> "comment" : "comment" <br>} , {...}                                                              | -              |
| ëŒ“ê¸€ ì‚­ì œ         | `DELETE` | /api/comment/param         | Authorization  | 'id'=id       | -                                                    | "ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."                                                                                                                                                | -              |
